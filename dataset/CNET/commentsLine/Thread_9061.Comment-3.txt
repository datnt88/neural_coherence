on the system bios and the os .
.
.
down to the service pack.
one way around an old or outdated system bios... is a hard disk controller with a bios that allows large hdds.
that circumvents the hw problem ... you still need to address the os limitations.
re a utility that tells you exactly what's the largest hdd you can install in any system (and access all the space), there isn't one that i know of.
vapcmd
